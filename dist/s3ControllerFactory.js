import{S3Client as e}from"@aws-sdk/client-s3";async function t(t){const s=new e({region:"eu-west-3",credentials:{accessKeyId:t.accessKeyId,secretAccessKey:process.env.MY_AWS_SECRET_ACCESS_KEY}});return async function(e,c){const n=t.getKey?await t.getKey(e):`${Date.now()+Math.random()}.json`,a=createPresignedPost(s,{Bucket:t.Bucket,Key:n,Conditions:[{acl:t.acl??"private"},{bucket:t.Bucket},{key:n},{"content-type":t.contentType??"application/json"}],Fields:{acl:t.acl??"private"},Expires:t.Expires});c.json(a)}}export{t as default};